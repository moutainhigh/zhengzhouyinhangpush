# parent的pom.xml文件 从topology中定期去获取最新的，请不要提交该pom文件
## git 版本管理方式：
   1. 短期（1天功能或者bug修复）在同一个分支``develop_zy20210702``上开发（自测的方式测试之后提交上来，没有自己测试通过、sonar扫描bug没改的不能提交该分支）。
   2. 长周期（4天以上功能开发和测试）从此分支上新拉一个本地分支，每天从``develop_zy20210702``（每天早上检出代码）上拉一下代码,少数情况拉下别人的代码冲突就在你自己的本地解决好
   3. 提交到``develop_zy20210702``的代码在之前要进行``sonar``质量检查，将问题拦截在集成测试之前
   4. 提交到``develop_zy20210702``的默认是大家bug是测试通过的，功能是被接收了测试的，然后定期（每天下班前检查新提交）合入到``develop``
   5. 提交规范[组件名称] [新增，修改|bug号] [功能名称|bug标题] [描述信息] [版本号]
   6. 【重要】关于合入准发布分支有测试过和没测试过的代码功能混杂合并冲突问题，现在给出方案是：
       - 当测试接受测试之后，代码合入``develop``，会及时进人测试，测试会自己打包``develop``代码装好环境集成测试
       - 待测试同事测过之后，然后从``develop``按周期（一周）拣选或分支推送到``p01``，
       - 如果拣选代码中有掺杂没有测试通过的代码，一周时间将延长等待这部分功能测试通过一起合并
       
       
## 基础开发规范
   1. 重复逻辑，以及重复造轮子
       - 工具类使用``totems-topology-plugins-common``和`totems-topology-plugins-whale` 中的现有的，没有的自行增加，后期按要求慢慢剔除项目中重复的工具类
       - 阿里规范扫描：超3行代码重复就会提示，就可以抽出私有方法公共，下次改这里就只用改一处，不会遗漏改动
       - 规范扫描：方法超80行，除了逻辑复杂之外，肯定有一个方法干了很多事，这时就该抽出有共性的方法出来，为以后其他业务预留使用，这也回避了前面的复制问题，因为方法都写好了
       
   2. 控制层与参数（应对随时间迭代，市场对接也会出问题）
       - 要加参数校验，业务异常捕获、不能写业务代码、注意分层建类
       - 超过2个参数的形参就要考虑用对象定义
       
   3. 约定大于配置，配置大于代码；不能碰巧实现了功能，总有一天业务变更，就会碰巧出问题，不做硬编码
   4. 统一数据模型格式优化：从数据建模开始就定义统一的数据格式
   5. 遇到不合理的方法或实现可以重构：没有足够的人员配置和充裕的时间，所以每次重构的边界在功能迭代测试边界之内
   6. 分层结构与单一职责
       - 类不允许出现上千行代码，（有上千行，说明一个类有多重职责）
       - 对类进行管理，有公共业务属性的可以建包管理（可以用package-info.java标识包职责）
   7. 公共属性变量管理
       - 常量不允许在实现类中去写
       - 枚举-多属性的情况就不能在使用常量定义，用枚举类
   
## 文档建设
   1. 维护一套最新唯一的文档，及时更新

## push-app业务规范
   1. 策略生成
       - 策略模式：可以动态地让一个对象在许多行为中选择一种行为（所有人按照这种模式开发附加行为流程），主流程简明扼要。
        
       - 适配模式：定义好枚举，通过Map的key自动映射到类上
       - AOP代理： 插件定制用了注解插件式的代理模式
       - 命令规范：
            1. 优先支持原子化与原子化命令规范
            2. 命令行中不建议自定义异常
   2. 策略下发
       - AOP代理：可以根据自身需要去自定义注解，找准切点，做特殊配置下发处理，主流程维持简明扼要。
       - 约定优于配置：反馈管理配置决定走新下发流程，每次新增型号需要同步增加反馈管理的sql语句。
       - 命令行模式：可以在下发中根据需要自定义不同产商型号非策略系统命令行，例如保存或者退出命令行
       
## push-common公共资源规范
   1. 全局常量分类定义
   2. 两种属性以上的全局属性，需要用枚举
   3. `DeviceModelNumberEnum` 中可以定义同设备，不同类型的公共方法，禁止`switch case`大量同厂商，不同型号
   
## push-plugins 定制命令行
   1. 定制说明：按照需求说明该用户定制了什么命令行，方便其他人追溯维护